# =============================================================================
# 全局基础服务配置 (Global Infrastructure)
# 所有微服务共享的基础设施
# =============================================================================

# Etcd 服务地址，用于服务发现和配置中心
ETCD_HOST="localhost:2379"

# Redis 服务地址，用于缓存、分布式锁和消息队列
REDIS_HOST="localhost:36379"
# Redis 访问密码
REDIS_PASS="GwAGt4UmTwcMhjun"

# MinIO 服务地址，用于对象存储（文件上传、RAG文档等）
MINIO_ENDPOINT="localhost:9000"
# MinIO 访问密钥 ID
MINIO_ACCESS_KEY="zhang"
# MinIO 访问密钥 Secret
MINIO_SECRET_KEY="epoch2025zhang"
# MinIO 是否使用 SSL (true/false)
MINIO_USE_SSL="false"


# =============================================================================
# [模块] 用户中心 (User Center)
# =============================================================================

# Usercenter API 服务监听 Host
USERCENTER_API_HOST="0.0.0.0"
# Usercenter API 服务监听端口
USERCENTER_API_PORT="3081"
# Usercenter RPC 服务监听地址 (Host:Port)
USERCENTER_RPC_LISTEN="0.0.0.0:4081"

# Usercenter 数据库连接串 (MySQL DSN)
USERCENTER_DB_DSN="root:f4FMhWc6FdzuBCHf@tcp(localhost:3306)/gzva_usercenter?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai"

# JWT 签名密钥
JWT_ACCESS_SECRET="8d5ef405-88f6-4e31-9c22-3b134a55e6ba"
# JWT Token 过期时间（秒），默认 7 天
JWT_ACCESS_EXPIRE="604800"
# 邮件发送服务器 Host (SMTP)
EMAIL_HOST="smtp.163.com"
# 邮件发送服务器端口
EMAIL_PORT="587"
# 邮件发送账号用户名
EMAIL_USERNAME="aaabbccc@163.com"
# 邮件发送账号密码或授权码
EMAIL_PASSWORD=""


# =============================================================================
# [模块] 大模型服务 (LLM Service)
# =============================================================================

# LLM API 服务监听 Host
LLM_API_HOST="0.0.0.0"
# LLM API 服务监听端口
LLM_API_PORT="3082"
# LLM RPC 服务监听地址 (Host:Port)
LLM_RPC_LISTEN="0.0.0.0:4082"
# LLM RPC 调用超时时间 (毫秒)
LLM_RPC_TIMEOUT="30000"

# LLM 服务数据库连接串 (MySQL DSN)
LLM_DB_DSN="root:f4FMhWc6FdzuBCHf@tcp(localhost:3306)/gzva_llmservice?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai"

# 阿里云 DashScope API Base URL
ALIYUN_BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1/"
# 阿里云 DashScope API Key
ALIYUN_API_KEY=""


# =============================================================================
# [模块] 检索增强生成 (RAG Service)
# =============================================================================

# RAG API 服务监听 Host
RAG_API_HOST="0.0.0.0"
# RAG API 服务监听端口
RAG_API_PORT="3084"
# RAG RPC 服务监听地址 (Host:Port)
RAG_RPC_LISTEN="0.0.0.0:4084"

# RAG 服务数据库连接串 (MySQL DSN)
RAG_DB_DSN="root:f4FMhWc6FdzuBCHf@tcp(localhost:3306)/gzva_rag?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai"

# 外部 Python RAG 服务 (FastAPI) 地址
FASTAPI_RAG_ENDPOINT="http://localhost:8000"

# 文档服务 API 监听 Host (RAG 子模块)
DOC_API_HOST="0.0.0.0"
# 文档服务 API 监听端口
DOC_API_PORT="8888"


# =============================================================================
# [模块] 语音聊天 (Voice Chat)
# =============================================================================

# Voicechat API 服务监听 Host
VOICECHAT_API_HOST="0.0.0.0"
# Voicechat API 服务监听端口 (注意：默认与 Chatroom 端口相同，如冲突请修改)
VOICECHAT_API_PORT="3083"
# Voicechat RPC 服务监听地址 (Host:Port)
VOICECHAT_RPC_LISTEN="0.0.0.0:4083"

# Voicechat 服务数据库连接串 (MySQL DSN)
VOICECHAT_DB_DSN="root:f4FMhWc6FdzuBCHf@tcp(localhost:3306)/gzva_voicechat?charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai"

# SIP 服务监听地址
SIP_ADDR=":5060"
# Rust PBX 服务 HTTP 地址
RUST_PBX_URL="http://localhost:8080"
# Rust PBX 服务 WebSocket 地址 (通用)
RUST_PBX_WEBSOCKET_URL="ws://localhost:8080/ws"
# Rust PBX 服务 WebSocket 地址 (WebRTC 通话专用)
RUST_PBX_WEBSOCKET_CALL_URL="ws://localhost:8080/call/webrtc"


# =============================================================================
# [模块] 聊天室 (Chatroom)
# =============================================================================

# Chatroom API 服务监听 Host
CHATROOM_API_HOST="0.0.0.0"
# Chatroom API 服务监听端口
CHATROOM_API_PORT="3083"

# WebSocket 最大连接数
WS_MAX_CONNECTIONS="100"
# WebSocket 心跳间隔
WS_HEARTBEAT_INTERVAL="30s"
# WebSocket 连接超时时间
WS_CONNECTION_TIMEOUT="60s"
# WebSocket 消息读取缓冲区大小 (字节)
WS_MESSAGE_BUFFER_SIZE="256"
# WebSocket 读取缓冲区大小 (字节)
WS_READ_BUFFER_SIZE="1024"
# WebSocket 写入缓冲区大小 (字节)
WS_WRITE_BUFFER_SIZE="1024"
# WebSocket 最大消息大小 (字节)
WS_MAX_MESSAGE_SIZE="512"
# 是否启用 WebSocket 压缩 (true/false)
WS_ENABLE_COMPRESSION="true"
# 是否启用消息队列 (true/false)
WS_ENABLE_MESSAGE_QUEUE="true"
# 消息队列大小
WS_MESSAGE_QUEUE_SIZE="1000"
# 是否启用集群模式 (true/false)
WS_ENABLE_CLUSTER="false"
# 集群节点 ID (集群模式下必填)
WS_CLUSTER_NODE_ID=""
# 分片数量 (用于连接管理)
WS_SHARD_COUNT="16"
# 广播工作协程数量
WS_BROADCAST_WORKER_COUNT="32"
# 队列满时是否丢弃消息 (true/false)
WS_DROP_ON_FULL="true"
# 压缩级别 (例如 -2)
WS_COMPRESSION_LEVEL="-2"
# 背压时是否关闭连接 (true/false)
WS_CLOSE_ON_BACKPRESSURE="false"
# 发送超时时间
WS_SEND_TIMEOUT="50s"
# 是否启用全局 Ping (true/false)
WS_ENABLE_GLOBAL_PING="false"
# Ping 工作协程数量
WS_PING_WORKER_COUNT="8"


# =============================================================================
# [模块] 消息队列 (Message Queue)
# =============================================================================

# Mqueue 运行模式 (dev/prod)
MQUEUE_MODE="dev"
# Mqueue 日志输出模式 (console/file)
MQUEUE_LOG_MODE="console"
# Mqueue 日志编码格式 (plain/json)
MQUEUE_LOG_ENCODING="plain"
