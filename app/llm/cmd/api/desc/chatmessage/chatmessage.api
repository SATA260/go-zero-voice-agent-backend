syntax = "v1"

type (
	ToolCallInfo {
		Id                   string `json:"id"`
		Name                 string `json:"name"`
		ArgumentsJson        string `json:"argumentsJson"`
		Scope                string `json:"scope"`
		RequiresConfirmation bool   `json:"requiresConfirmation"`
	}
	ToolCall {
		Info   ToolCallInfo `json:"info"`
		Status string       `json:"status"`
		Result string       `json:"result"`
		Error  string       `json:"error"`
	}
	ChatMessage {
		Id         int64      `json:"id"`
		SessionId  int64      `json:"sessionId"`
		Role       string     `json:"role"`
		Content    string     `json:"content"`
		ToolCalls  []ToolCall `json:"toolCalls"`
		ToolCallId string     `json:"toolCallId"`
		Extra      string     `json:"extra"`
		CreateTime int64      `json:"createTime"`
	}
)

type (
	ListChatMessageBySessionReq {
		UserId    int64     `header:"X-User-Id"`
		SessionId int64     `json:"sessionId"`
		PageQuery PageQuery `json:"pageQuery"`
	}
	ListChatMessageBySessionResp {
		Total    int64         `json:"total"`
		Messages []ChatMessage `json:"messages"`
	}
)

type (
	DeleteChatMessageReq {
		Id     int64 `path:"id"`
		UserId int64 `header:"X-User-Id"`
	}
	DeleteChatMessageResp  {}
)

