syntax = "v1"

info (
	title:  "LLM配置接口"
	desc:   "LLM配置增删改查"
	author: "auto"
)

type (
	PageQuery {
		Page     int64  `json:"page"`
		PageSize int64  `json:"pageSize"`
		OrderBy  string `json:"orderBy"`
	}
	ChatConfig {
		Id                int64   `json:"id"`
		Name              string  `json:"name"`
		Description       string  `json:"description"`
		UserId            int64   `json:"userId"`
		BaseUrl           string  `json:"baseUrl"`
		ApiKey            string  `json:"apiKey"`
		Model             string  `json:"model"`
		Stream            int64   `json:"stream"`
		Temperature       float64 `json:"temperature"`
		TopP              float64 `json:"topP"`
		TopK              int64   `json:"topK"`
		EnableThinking    int64   `json:"enableThinking"`
		RepetitionPenalty float64 `json:"repetitionPenalty"`
		PresencePenalty   float64 `json:"presencePenalty"`
		MaxTokens         int64   `json:"maxTokens"`
		Seed              int64   `json:"seed"`
		EnableSearch      int64   `json:"enableSearch"`
		ContextLength     int64   `json:"contextLength"`
	}
)

type (
	CreateConfigReq {
		UserId            int64   `header:"X-User-Id"`
		Name              string  `json:"name,optional"`
		Description       string  `json:"description,optional"`
		BaseUrl           string  `json:"baseUrl,optional"`
		ApiKey            string  `json:"apiKey,optional"`
		Model             string  `json:"model,optional"`
		Stream            int64   `json:"stream,optional"`
		Temperature       float64 `json:"temperature,optional"`
		TopP              float64 `json:"topP,optional"`
		TopK              int64   `json:"topK,optional"`
		EnableThinking    int64   `json:"enableThinking,optional"`
		RepetitionPenalty float64 `json:"repetitionPenalty,optional"`
		PresencePenalty   float64 `json:"presencePenalty,optional"`
		MaxTokens         int64   `json:"maxTokens,optional"`
		Seed              int64   `json:"seed,optional"`
		EnableSearch      int64   `json:"enableSearch,optional"`
		ContextLength     int64   `json:"contextLength,optional"`
	}
	CreateConfigResp {
		Id int64 `json:"id"`
	}
)

type (
	DeleteConfigReq {
		Id     int64 `path:"id"`
		UserId int64 `header:"X-User-Id"`
	}
	DeleteConfigResp  {}
)

type (
	UpdateConfigReq {
		Id                int64   `path:"id"`
		UserId            int64   `header:"X-User-Id"`
		Name              string  `json:"name,optional"`
		Description       string  `json:"description,optional"`
		BaseUrl           string  `json:"baseUrl,optional"`
		ApiKey            string  `json:"apiKey,optional"`
		Model             string  `json:"model,optional"`
		Stream            int64   `json:"stream,optional"`
		Temperature       float64 `json:"temperature,optional"`
		TopP              float64 `json:"topP,optional"`
		TopK              int64   `json:"topK,optional"`
		EnableThinking    int64   `json:"enableThinking,optional"`
		RepetitionPenalty float64 `json:"repetitionPenalty,optional"`
		PresencePenalty   float64 `json:"presencePenalty,optional"`
		MaxTokens         int64   `json:"maxTokens,optional"`
		Seed              int64   `json:"seed,optional"`
		EnableSearch      int64   `json:"enableSearch,optional"`
		ContextLength     int64   `json:"contextLength,optional"`
	}
	UpdateConfigResp  {}
)

type (
	GetConfigReq {
		Id     int64 `path:"id"`
		UserId int64 `header:"X-User-Id"`
	}
	GetConfigResp {
		Config ChatConfig `json:"config"`
	}
)

type (
	ChatConfigQueryFilter {
		Id          int64  `json:"id,optional"`
		Name        string `json:"name,optional"`
		Description string `json:"description,optional"`
	}
	ListMyConfigReq {
		PageQuery PageQuery             `json:"pageQuery"`
		UserId    int64                 `header:"X-User-Id"`
		Filter    ChatConfigQueryFilter `json:"filter,optional"`
	}
	ListMyConfigResp {
		Total   int64        `json:"total"`
		Configs []ChatConfig `json:"configs"`
	}
)

