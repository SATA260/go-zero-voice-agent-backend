syntax = "v1"

type (
	TextChatMessage {
		Role       string     `json:"role"`
		Content    string     `json:"content"`
		ToolCalls  []ToolCall `json:"toolCalls,optional"`
		ToolCallId string     `json:"toolCallId,optional"`
	}
)

type (
	TextChatReq {
		UserId          int64      `header:"X-User-Id"`
		ConfigId        int64      `json:"configId"`
		ConversationId  string     `json:"conversationId,optional"`
		RagFileIds      []int64    `json:"ragFileIds,optional"`
		Message         string     `json:"message"`
		Role            string     `json:"role,optional"`
		ToolCalls       []ToolCall `json:"toolCalls,optional"`
		ToolCallId      string     `json:"toolCallId,optional"`
		SystemPrompt    string     `json:"systemPrompt,optional"`
		AutoFillHistory bool       `json:"autoFillHistory,optional"`
		IsStream        bool       `json:"isStream,optional"`
	}
	TextChatResp {
		ConversationId string          `json:"conversationId"`
		Message        TextChatMessage `json:"message"`
	}
	StreamChatResp {
		ConversationId string          `json:"conversationId"`
		Message        TextChatMessage `json:"message,optional"`
		Error          string          `json:"error,optional"`
		IsComplete     bool            `json:"isComplete,optional"`
	}
)

