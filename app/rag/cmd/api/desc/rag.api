syntax = "v1"

info (
	title:   "rag实例"
	desc:    "rag服务"
	author:  "2penheimer"
	email:   "2603237065@qq.com"
	version: "v1"
)

import (
	"docfile/docfile.api"
)

@server (
	group:  doc
	prefix: rag/v1/doc
)
service rag {
	@doc "上传文件并向量化"
	@handler UploadAndEmbed
	post /upload (UploadDocReq) returns (UploadDocResp)

	@doc "分页查询上传文件"
	@handler ListDoc
	post /list (ListDocReq) returns (ListDocResp)

	@doc "删除上传文件"
	@handler DeleteDoc
	delete /:id (DeleteDocReq) returns (DeleteDocResp)
}

